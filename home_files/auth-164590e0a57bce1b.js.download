(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2473],{2304:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return n(90234)}])},41976:function(e,t,n){"use strict";n.d(t,{g1:function(){return p},h$:function(){return f}});var r=n(35944),o=n(79547),a=n.n(o),i=(n(67294),n(41664)),c=n.n(i),s=n(86764),u=n(94635),l=function(){return(0,r.BX)("header",{className:"jsx-842bfb4ff32ef06a auth-header",children:[(0,r.tZ)("div",{className:"jsx-842bfb4ff32ef06a auth-header-logo",children:(0,r.tZ)("div",{className:"jsx-842bfb4ff32ef06a",children:(0,r.tZ)(c(),{href:"/",children:(0,r.tZ)("a",{className:"jsx-842bfb4ff32ef06a auth-header-logo-link",children:(0,r.tZ)(u.Z,{})})})})}),(0,r.tZ)(a(),{id:"842bfb4ff32ef06a",children:".auth-header.jsx-842bfb4ff32ef06a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 25px;background-color:var(--background-default);border-bottom:var(--accent-grey-strongest);height:60px}.auth-header-logo-link.jsx-842bfb4ff32ef06a{display:block;width:auto;height:28px;color:var(--foreground-default);overflow:hidden;text-decoration:none}.auth-header-logo.jsx-842bfb4ff32ef06a,.auth-header-nav.jsx-842bfb4ff32ef06a{width:70px}.auth-header-title.jsx-842bfb4ff32ef06a{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;font-weight:normal;color:black;font-size:130%}@media(min-width:400px){.auth-header-logo-link.jsx-842bfb4ff32ef06a{width:116px}}"})]})},f=function(e){var t=e.heading,n=e.subHeading;return(0,r.BX)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-header",children:[(0,r.tZ)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-heading",children:t}),n&&(0,r.tZ)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-subheading",children:n}),(0,r.tZ)(a(),{id:"84d0af9587a0f99d",children:".auth-welcome-header.jsx-84d0af9587a0f99d{width:100%;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;background-color:rgb(81,146,179);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:200px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:20px}.auth-welcome-heading.jsx-84d0af9587a0f99d{font-size:44px;color:rgb(255,255,255);font-weight:100;white-space:nowrap;width:75%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;text-align:center}.auth-welcome-subheading.jsx-84d0af9587a0f99d{font-size:20px;font-weight:400;margin-top:5px;color:rgba(255,255,255,.5)}"})]})},p=function(e){var t=e.children,n=e.title,o=e.description,i=e.image,c=e.minHeight;return(0,r.BX)(s.Z,{title:n,description:o,image:i,style:{paddingTop:0},noFooter:!0,noHeader:!0,hideEmailVerify:!0,noSidebar:!0,children:[(0,r.tZ)(l,{title:n}),(0,r.tZ)("div",{className:a().dynamic([["2d40627d72852135",[null!==c&&void 0!==c?c:"100vh"]]])+" auth-layout-content",children:t}),(0,r.tZ)(a(),{id:"2d40627d72852135",dynamic:[null!==c&&void 0!==c?c:"100vh"],children:".auth-layout-content.__jsx-style-dynamic-selector{min-height:".concat(null!==c&&void 0!==c?c:"100vh",";padding-top:60px;margin-top:-60px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}")})]})}},29449:function(e,t,n){"use strict";function r(e,t){if(!e)return null;var n=e[t];return n?Array.isArray(n)?null:n:null}n.d(t,{Z:function(){return r}})},36526:function(e,t,n){"use strict";var r=n(34051),o=n.n(r),a=n(48010);function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}t.Z=function(){var e,t=(e=o().mark((function e(t,n){var r,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}r=t.user,e.next=14;break;case 5:if(!((i=n.getState().user)&&i.userInfo.isLoggedIn&&i.userInfo)){e.next=10;break}r=i.userInfo,e.next=14;break;case 10:return e.next=12,(0,a.LK)("/is_authenticated");case 12:(c=e.sent).success&&(r=c.user);case 14:return r&&(t&&(r=JSON.parse(JSON.stringify(r))),n.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:r})),e.abrupt("return",{user:r});case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},90234:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(34051),o=n.n(r),a=n(35944),i=n(67294),c=n(11163),s=n.n(c),u=n(78135),l=n(99231),f=n(41976),p=n(32911),h=n(67718),d=n(689),m=n(36526),b=function(){return{href:"/home",as:"/~"}},g=n(11987),v=function(e,t){var n=e.host,r=e.protocol,o=t?(0,g.parse)(t,!0):{query:{},pathname:"/"},a=o.query,i=o.pathname;return(0,g.format)({protocol:r,host:n,pathname:i,query:a})},y=n(29449),x=n(935);function w(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}function C(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e);var t=U(n);function n(){var e;return k(this,n),(e=t.apply(this,arguments)).handleSubmit=function(t){if("error"in t&&t.error)e.props.showMessage({content:t.error,type:"error",time:3e3});else{if(!("user"in t)||!t.user)throw new Error("Expected error or user object");var n=e.state,r=n.isLogin,o=n.isTeacher;e.props.showMessage({content:"".concat(r?"Log in":"Signup"," Successful"),type:"confirm",time:2e3});var a=e.props.router.query,i=r&&!t.social||t.social&&!t.newUser,c=(0,y.Z)(a,"goto");if(i)if(c)window.location.href=v(window.location,c);else{var u=b(),l=u.href,f=u.as;s().push(l,f)}else c?window.location.href=v(window.location,c):o&&(0,d.Z)(t.user,"flag-teams-onboarding")?window.location.href="/teams/free-trial":"landing"===s().query.from?window.location.href="/~?from=landing&onboarding=1":window.location.href="/~?onboarding=1"}},e.handleChangeAuth=function(){var t=e.props.router.query;e.setState((function(e){return{isLogin:!e.isLogin}}),(function(){var n=e.state.isLogin?"/login":"/signup";s().push({pathname:"/auth",query:t},{pathname:n,query:t},{shallow:!0})}))},e.toggleTeacher=function(){var t=e.props.router.query;e.setState((function(e){return{isTeacher:!e.isTeacher}}),(function(){var n=O({},t);delete n.teacher,e.state.isTeacher&&(n.teacher="1"),s().push({pathname:"/auth",query:n},{pathname:"/signup",query:n},{shallow:!0})}))},e}var r=n.prototype;return r.UNSAFE_componentWillMount=function(){var e=this.props.router.asPath;if(e){var t=e.includes("/login"),n="teacher"in(0,l.Z)(this.props.router.query,"path");this.setState({isLogin:t,isTeacher:n})}},r.render=function(){var e=(0,l.Z)(this.props.router.query,"path"),t=this.state,n=t.isTeacher,r=t.isLogin,o=e.title,i=e.description,c=e.image,s=r?"Log In":"Sign Up";return(0,a.BX)(f.g1,{title:o||s,description:i,image:c,minHeight:"100vh",children:[e.googleClassroom&&(0,a.tZ)(f.h$,{heading:"Welcome to Teams for Education",subHeading:"Please use your Google account to join your team"}),(0,a.tZ)(p.Z,{email:e.email?e.email.toString():void 0,isLogin:r,isTeacher:n,onSubmit:this.handleSubmit,onChangeAuth:this.handleChangeAuth,toggleTeacher:this.toggleTeacher,privacyInvite:e.invite?e.invite.toString():void 0,randomUsername:e.randomUsername?e.randomUsername.toString():void 0,googleClassroom:Boolean(e.googleClassroom)}),(0,a.tZ)(x.Z,{})]})},n.getInitialProps=function(e){var t,n=e.req,r=e.store;return(t=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return e.next=3,(0,m.Z)(n,r);case 3:e.sent.user&&s().replace("/replsDashboard",{pathname:"/repls"});case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){w(a,r,o,i,c,"next",e)}function c(e){w(a,r,o,i,c,"throw",e)}i(void 0)}))})()},n}(i.Component),R=(0,u.$j)(null,{showMessage:h.P})(z)},86540:function(e,t,n){"use strict";var r=n(48702),o=n(12338);t.Z=function(e,t){for(var n=0,a=(t=(0,r.Z)(t,e)).length;null!=e&&n<a;)e=e[(0,o.Z)(t[n++])];return n&&n==a?e:void 0}},48702:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(59585),o=n(51283),a=n(46898);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(i.Cache||a.Z),n}i.Cache=a.Z;var c=i;var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,l=function(e){var t=c(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,(function(e,n,r,o){t.push(r?o.replace(u,"$1"):n||e)})),t})),f=n(65621);var p=function(e,t){return(0,r.Z)(e)?e:(0,o.Z)(e,t)?[e]:l((0,f.Z)(e))}},51283:function(e,t,n){"use strict";var r=n(59585),o=n(9910),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.Z=function(e,t){if((0,r.Z)(e))return!1;var n,c="undefined"===typeof e?"undefined":(n=e)&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=e&&!(0,o.Z)(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},12338:function(e,t,n){"use strict";var r=n(9910);t.Z=function(e){if("string"==typeof e||(0,r.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},11987:function(e,t,n){!function(){var t={477:function(e){"use strict";e.exports=n(17673)}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,o),i=!1}finally{i&&delete r[e]}return a.exports}o.ab="//";var a={};!function(){var e,t=a,n=(e=o(477))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function i(e){"string"==typeof e&&(e=y(e));var t=function(e,t,n){var r=e.auth,o=e.hostname,a=e.protocol||"",i=e.pathname||"",c=e.hash||"",s=e.query||"",u=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?u=r+e.host:o&&(u=r+(~o.indexOf(":")?"["+o+"]":o),e.port&&(u+=":"+e.port)),s&&"object"==typeof s&&(s=t.encode(s));var l=e.search||s&&"?"+s||"";return a&&":"!==a.substr(-1)&&(a+=":"),e.slashes||(!a||n.test(a))&&!1!==u?(u="//"+(u||""),i&&"/"!==i[0]&&(i="/"+i)):u||(u=""),c&&"#"!==c[0]&&(c="#"+c),l&&"?"!==l[0]&&(l="?"+l),{protocol:a,host:u,pathname:i=i.replace(/[?#]/g,encodeURIComponent),search:l=l.replace("#","%23"),hash:c}}(e,n,r);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var c="http://",s="w.w",u=c+s,l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,f=/https?|ftp|gopher|file/;function p(e,t){var n="string"==typeof e?y(e):e;e="object"==typeof e?i(e):e;var r=y(t),o="";n.protocol&&!n.slashes&&(o=n.protocol,e=e.replace(n.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&r.protocol&&(o="",r.slashes||(o=r.protocol,t=t.replace(r.protocol,"")));var a=e.match(l);a&&!r.protocol&&(e=e.substr((o=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var s=new URL(e,u+"/"),p=new URL(t,s).toString().replace(u,""),h=r.protocol||n.protocol;return h+=n.slashes||r.slashes?"//":"",!o&&h?p=p.replace(c,h):o&&(p=p.replace(c,"")),f.test(p)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==p.slice(-1)||(p=p.slice(0,-1)),o&&(p=o+("/"===p[0]?p.substr(1):p)),p}function h(){}h.prototype.parse=y,h.prototype.format=i,h.prototype.resolve=p,h.prototype.resolveObject=p;var d=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,b=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,v=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),e&&"object"==typeof e&&e instanceof h)return e;var o=(e=e.trim()).match(m);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),v.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(b),c=g.test(e),l="";a&&(d.test(a[1])||(l=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(c=!1,d.test(a[1])?(l=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(l=a[1],e="/"+a[3]));var f,p=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),y=p&&p[1],x=new h,w="",k="";try{f=new URL(e)}catch(t){w=t,l||r||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(k="/",e=e.substr(1));try{f=new URL(e,u)}catch(e){return x.protocol=l,x.href=l,x}}x.slashes=c&&!k,x.host=f.host===s?"":f.host,x.hostname=f.hostname===s?"":f.hostname.replace(/(\[|\])/g,""),x.protocol=w?l||null:f.protocol,x.search=f.search.replace(/\\/g,"%5C"),x.hash=f.hash.replace(/\\/g,"%5C");var j=e.split("#");!x.search&&~j[0].indexOf("?")&&(x.search="?"),x.hash||""!==j[1]||(x.hash="#"),x.query=t?n.decode(f.search.substr(1)):x.search.substr(1),x.pathname=k+(a?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(f.pathname):f.pathname),"about:"===x.protocol&&"blank"===x.pathname&&(x.protocol="",x.pathname=""),w&&"/"!==e[0]&&(x.pathname=x.pathname.substr(1)),l&&!d.test(l)&&"/"!==e.slice(-1)&&"/"===x.pathname&&(x.pathname=""),x.path=x.pathname+x.search,x.auth=[f.username,f.password].map(decodeURIComponent).filter(Boolean).join(":"),x.port=f.port,y&&!x.host.endsWith(y)&&(x.host+=y,x.port=y.slice(1)),x.href=k?""+x.pathname+x.search+x.hash:i(x);var Z=/^(file)/.test(x.href)?["host","hostname"]:[];return Object.keys(x).forEach((function(e){~Z.indexOf(e)||(x[e]=x[e]||null)})),x}t.parse=y,t.format=i,t.resolve=p,t.resolveObject=function(e,t){return y(p(e,t))},t.Url=h}(),e.exports=a}()},62587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var i=/\+/g;e=e.split(n);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var s=e.length;c>0&&s>c&&(s=c);for(var u=0;u<s;++u){var l,f,p,h,d=e[u].replace(i,"%20"),m=d.indexOf(r);m>=0?(l=d.substr(0,m),f=d.substr(m+1)):(l=d,f=""),p=decodeURIComponent(l),h=decodeURIComponent(f),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},17673:function(e,t,n){"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[5762,8350,9470,8966,40,9231,6764,6088,3308,2911,9774,2888,179],(function(){return t(97239),t(2304)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=auth-164590e0a57bce1b.js.map