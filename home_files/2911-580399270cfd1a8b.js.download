"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2911],{47970:function(e,r,t){t.d(r,{IO:function(){return d},IU:function(){return l},YR:function(){return p},wg:function(){return h},x4:function(){return f}});var n=t(34051),a=t.n(n),o=t(48010);function i(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function u(e){i(o,n,a,u,c,"next",e)}function c(e){i(o,n,a,u,c,"throw",e)}u(void 0)}))}}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}function l(e){var r=e.username,t=e.email,n=e.password,i=e.teacher,c=e.organization,s=e.hCaptchaResponse,l=e.hCaptchaSiteKey,f=e.privacyInvite,p=e.source;return function(){var e=u(a().mark((function e(u,d){var h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:"FETCH_SIGNUP_REQUEST"}),e.prev=2,e.next=5,(0,o.uz)("/signup",{email:t,username:r,password:n,teacher:i,organization:c,privacyInvite:f,hCaptchaResponse:s,hCaptchaSiteKey:l,source:p});case 5:h=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),u({type:"FETCH_SIGNUP_FAILURE",error:e.t0}),e.abrupt("return",{error:e.t0});case 12:return u({type:"FETCH_SIGNUP_SUCCESS",user:h}),e.abrupt("return",{user:d().user.userInfo});case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t){return e.apply(this,arguments)}}()}function f(e){var r=e.username,t=e.password,n=e.teacher,i=e.hCaptchaResponse,c=e.hCaptchaSiteKey;return function(){var e=u(a().mark((function e(u,s){var l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:"FETCH_LOGIN_REQUEST"}),e.prev=2,e.next=5,(0,o.uz)("/login",{username:r,password:t,teacher:n,hCaptchaResponse:i,hCaptchaSiteKey:c});case 5:l=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),u({type:"FETCH_LOGIN_FAILURE",error:e.t0}),e.abrupt("return",{error:e.t0});case 12:return u({type:"FETCH_LOGIN_SUCCESS",user:l}),e.abrupt("return",{user:s().user.userInfo});case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t){return e.apply(this,arguments)}}()}function p(e){var r=e.provider;return function(){var e=u(a().mark((function e(t,n){var i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_USER_INFO_REQUEST"}),e.prev=2,e.next=5,(0,o.LK)("/is_authenticated");case 5:i=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),t({type:"FETCH_USER_INFO_FAILURE",error:e.t0}),e.abrupt("return",{error:e.t0});case 12:if(i.success){e.next=17;break}return(u=new Error("Unauthorized")).status=401,t({type:"FETCH_USER_INFO_FAILURE",error:u}),e.abrupt("return",{error:u});case 17:return t({type:"FETCH_USER_INFO_SUCCESS",user:s({},i.user,{loginMethod:r,should_complete_profile:i.should_complete_profile})}),e.abrupt("return",{user:n().user.userInfo});case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t){return e.apply(this,arguments)}}()}function d(){return{type:"AUTH_MODAL_INCREMENT_PROMPT_COUNT"}}function h(){return{type:"AUTH_MODAL_DISMISS"}}},32911:function(e,r,t){t.d(r,{Z:function(){return L}});var n=t(35944),a=t(79547),o=t.n(a),i=t(67294),u=t(34051),c=t.n(u),s=t(78135),l=t(28593),f=t(12596),p=t(66692),d=t(47970),h=t(21),m=t(51281),v=t(58458),b=t(33108),g=t(8996),y=t(40425),w=t(11542),x=(t(53189),t(56834));function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function C(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z="a20d9b66-6747-404a-9393-c449c4611661";function E(e){if(e.error)return[{message:e.error.message,state:"error"}];if(e.warning)return[{message:e.warning.message,state:"warning"}];if(e.value){if(e.isValid)return[{message:"",state:"success"}];if(e.touched)return[{message:"",state:"loading"}]}}var _=function(e){var r=e.email,t=void 0===r?"":r,a=e.username,o=void 0===a?"":a,u=e.password,S=void 0===u?"":u,_=e.schoolName,T=void 0===_?"":_,O=e.isTeacher,U=e.randomUsername,R=void 0===U?"":U,A=e.privacyInvite,I=e.onSubmit,j=e.onChangeAuth,P=e.toggleTeacher,N=e.source,z=void 0===N?"explicit":N,H=k(i.useState(!1),2),F=H[0],B=H[1],M=(0,s.I0)(),L=(0,b.Y)(A?R:o,p.Z.username),D=(0,b.Y)(A?"".concat(R,"@teams.noreply.replit.com"):t,O?p.Z.teacherEmail:p.Z.email),V=(0,b.Y)(S||"",p.Z.password),Y=i.useMemo((function(){if(V.error)return p.N.map((function(e){return e(V.value)})).filter((function(e){return!!e})).map((function(e){return{message:e.message,state:"error"}}))}),[V.value,V.error]),G=(0,b.Y)(T||"",p.Z.school),X=function(){var e,r=(e=c().mark((function e(r){var t,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),B(!0),L.isValid){e.next=9;break}return e.next=5,L.validate();case 5:if(!e.sent){e.next=9;break}return B(!1),e.abrupt("return");case 9:if(D.isValid){e.next=16;break}return e.next=12,D.validate();case 12:if(!e.sent){e.next=16;break}return B(!1),e.abrupt("return");case 16:if(V.isValid){e.next=23;break}return e.next=19,V.validate();case 19:if(!e.sent){e.next=23;break}return B(!1),e.abrupt("return");case 23:if(!O||G.isValid){e.next=30;break}return e.next=26,G.validate();case 26:if(!e.sent){e.next=30;break}return B(!1),e.abrupt("return");case 30:return e.prev=31,e.next=34,(0,h.Z)(Z,(function(){(0,x.j)(x.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"signup"})}));case 34:t=e.sent,e.next=42;break;case 37:return e.prev=37,e.t0=e.catch(31),I({error:"Something went wrong trying to submit. Please try again."}),B(!1),e.abrupt("return");case 42:return e.next=44,M((0,d.IU)({username:L.value,password:V.value,privacyInvite:A,email:D.value,teacher:O,organization:G.value,hCaptchaResponse:t,hCaptchaSiteKey:Z,source:z}));case 44:if(n=e.sent,B(!1),!("error"in n)){e.next=52;break}if(a=n.error,I({error:a.status&&a.message?a.message:"Something went wrong"}),!(a.status&&a.status>=500)){e.next=51;break}throw a;case 51:return e.abrupt("return");case 52:o=n.user,I({user:o,newUser:!0,organization:G.value});case 54:case"end":return e.stop()}}),e,null,[[31,37]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){C(o,n,a,i,u,"next",e)}function u(e){C(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),K=O&&!G.value,$=A&&!D.value;return(0,n.tZ)("form",{onSubmit:X,children:(0,n.BX)(g.gC,{align:"stretch",spacing:1,children:[(0,n.tZ)(y.Z,{level:4,children:O?"Create a teacher account":"Create a Replit account"}),!A&&(0,n.tZ)("div",{onClick:function(e){e.preventDefault(),P()},children:(0,n.tZ)(v.Z,{size:"small",children:O?(0,n.tZ)("a",{children:"Not a teacher?"}):(0,n.tZ)("a",{children:"Teacher? Sign up for our education product."})})}),(0,n.tZ)(f.ZP,{label:A?"Use our default or pick a username that's not your real name.":void 0,name:"username",ref:L.ref,placeholder:"Username",onBlur:L.handleBlur,validationResults:E(L),onChange:function(e){return L.setValue(e.target.value)},value:L.value,autoComplete:"on",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",onValidationError:function(){(0,x.j)(x.U3.AUTH_FORM_VALIDATION_ERROR,{field:"username"})}}),A?null:(0,n.tZ)(f.ZP,{name:"email",placeholder:"Email",onBlur:D.handleBlur,validationResults:E(D),onChange:function(e){return D.setValue(e.target.value)},value:D.value,autoComplete:"on",autoCorrect:"off",autoCapitalize:"off",onValidationError:function(){(0,x.j)(x.U3.AUTH_FORM_VALIDATION_ERROR,{field:"email"})}}),(0,n.tZ)(f.ZP,{name:"password",type:"password",placeholder:"Password",onBlur:V.handleBlur,validationResults:Y,onChange:function(e){return V.setValue(e.target.value)},value:V.value,onValidationError:function(){(0,x.j)(x.U3.AUTH_FORM_VALIDATION_ERROR,{field:"password"})}}),O?(0,n.tZ)(f.ZP,{type:"text",name:"organization",placeholder:"School or Organization name",onBlur:G.handleBlur,validationResults:E(G),onChange:function(e){return G.setValue(e.target.value)},value:G.value,onValidationError:function(){(0,x.j)(x.U3.AUTH_FORM_VALIDATION_ERROR,{field:"organization"})}}):null,(0,n.BX)("div",{children:[F?(0,n.tZ)(l.Z,{style:{margin:"0 auto",width:"32px",height:"32px"}}):(0,n.tZ)(m.Z,{type:"submit",color:"primary",filled:!0,fullWidth:!0,disabled:!V.value||!L.value||$||K,"data-cy":"signup-create-account",children:"Create account"}),(0,n.tZ)(w.Z,{}),!A&&j&&(0,n.BX)(v.Z,{size:"small",children:["Have an account?"," ",(0,n.tZ)("a",{onClick:function(e){j&&(e.preventDefault(),j(),(0,x.j)(x.U3.AUTH_FORM_TYPE_CHANGED,{to:"login",isTeacher:O?"true":"false"}))},children:"Log in"})]})]}),!1]})})},T=t(41664),O=t.n(T),U=t(39e3);function R(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function A(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function I(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return R(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){var r=e.username,t=void 0===r?"":r,a=e.password,o=void 0===a?"":a,u=e.isTeacher,p=e.onSubmit,S=e.onChangeAuth,C=e.source,k=I(i.useState(!1),2),Z=k[0],E=k[1],_=(0,s.I0)(),T=(0,b.Y)(t,(function(){return null})),R=(0,b.Y)(o,(function(){return null})),j=function(){var e,r=(e=c().mark((function e(r){var t,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault&&r.preventDefault(),!Z){e.next=3;break}return e.abrupt("return");case 3:return E(!0),e.next=6,T.validate();case 6:if(!e.sent){e.next=12;break}return null===(t=T.ref.current)||void 0===t||t.focus(),E(!1),e.abrupt("return");case 12:return e.next=14,R.validate();case 14:if(!e.sent){e.next=18;break}return E(!1),e.abrupt("return");case 18:return e.prev=19,e.next=22,(0,h.Z)(void 0,(function(){(0,x.j)(x.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})}));case 22:n=e.sent,e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(19),p({error:"Something went wrong trying to submit. Please try again."}),E(!1),e.abrupt("return");case 30:return e.next=32,_((0,d.x4)({username:T.value,password:R.value,hCaptchaResponse:n,hCaptchaSiteKey:h.w,teacher:u}));case 32:if(a=e.sent,E(!1),!("error"in a)){e.next=40;break}if(o=a.error,p({error:o.status&&o.message?o.message:"Something went wrong"}),!(o.status&&o.status>=500)){e.next=39;break}throw o;case 39:return e.abrupt("return");case 40:(0,x.j)(x.U3.LOGIN_SUCCESSFUL,{source:C}),p({user:a.user});case 42:case"end":return e.stop()}}),e,null,[[19,25]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){A(o,n,a,i,u,"next",e)}function u(e){A(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,n.tZ)("div",{children:(0,n.BX)("form",{className:"login-form",onSubmit:j,method:"POST",action:"/login",children:[(0,n.tZ)(y.Z,{level:4,children:"Log in to your account"}),(0,n.tZ)(w.Z,{size:3}),(0,n.BX)(g.gC,{align:"stretch",spacing:1,children:[(0,n.tZ)(f.ZP,{ref:T.ref,name:"username",placeholder:"Email or Username",value:T.value,onBlur:T.handleBlur,onChange:function(e){return T.setValue(e.currentTarget.value)},autoComplete:"on",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",validationResults:T.error?[{message:T.error.message,state:"error"}]:void 0,required:!0}),(0,n.tZ)(U.Z,{validated:!1,name:"password",placeholder:"Password",value:R.value,onBlur:R.handleBlur,onChange:function(e){return R.setValue(e.currentTarget.value)},validationResults:R.error?[{message:R.error.message,state:"error"}]:void 0,required:!0},"password"),Z?(0,n.tZ)(l.Z,{style:{margin:"0 auto",width:"32px",height:"32px"}}):(0,n.tZ)(m.Z,{color:"primary",onClick:j,type:"submit",filled:!0,size:"medium",fullWidth:!0,"data-cy":"log-in-btn",disabled:!T.value||!R.value,children:"Log in"}),(0,n.tZ)(w.Z,{}),(0,n.tZ)(v.Z,{size:"small",children:(0,n.tZ)(O(),{href:"/forgot",children:(0,n.tZ)("a",{children:"Forgot password?"})})}),S&&(0,n.BX)(v.Z,{size:"small",children:["New to Replit?"," ",(0,n.tZ)("a",{href:"/signup",onClick:function(e){e.preventDefault(),(0,x.j)(x.U3.AUTH_FORM_TYPE_CHANGED,{to:"signup",isTeacher:u?"true":"false"}),S()},children:"Sign up"})]})]})]})})}var P=t(94184),N=t.n(P);function z(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}var H=["google","github","facebook"];var F=function(e){var r,t,a,i=e.onClick,u=e.provider;return(0,n.BX)("div",{className:"jsx-44eaa02965937c7f social-login-container",children:[(0,n.tZ)(m.Z,{onClick:i,fullWidth:!0,size:"small",children:(0,n.BX)(g.Ug,{align:"center",justify:"space-between",spacing:2,children:[(0,n.tZ)("div",{style:{backgroundImage:"url(/public/images/".concat(u,".png)")},className:"jsx-44eaa02965937c7f "+(N()("social-login-icon",(r={},t=u,a=u,t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r))||"")}),(0,n.BX)(v.Z,{size:"small",children:["Continue with"," ","".concat(u.substring(0,1).toUpperCase()).concat(u.substring(1))]}),(0,n.tZ)(w.Z,{})]})}),(0,n.tZ)(o(),{id:"44eaa02965937c7f",children:".social-login-container.jsx-44eaa02965937c7f{min-width:280px}.social-login-container.jsx-44eaa02965937c7f button .content{width:100%}.social-login-icon.jsx-44eaa02965937c7f{height:22px;width:22px;-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain;background-repeat:no-repeat}.replit-ui-theme-root.dark .social-login-icon.github{-webkit-filter:brightness(0)invert(1);filter:brightness(0)invert(1)}"})]})},B=function(e){var r=e.isTeacher,t=e.isLogin,a=e.onSubmit,u=e.source,l=e.googleClassroom,f=(0,s.I0)(),p=i.useRef(null),h=function(e,n){e.preventDefault();var o="/auth/".concat(n,"/get?close=1");r&&(o+="&teacher=1"),u&&(o+="&source=".concat(u)),(0,x.j)(x.U3.AUTH_FORM_SSO_REQUESTED,{provider:n,authenticationType:t?"login":"signup",isTeacher:r?"true":"false"});var i=window.open(o),s=function(){var e,o=(e=c().mark((function e(o){var s,l,h,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o.origin===window.location.origin||"https://replit.com"===o.origin||"https://repl.it"===o.origin)&&("authenticated"===o.data||"authenticated:new_user"===o.data)){e.next=2;break}return e.abrupt("return");case 2:return p.current&&p.current(),i&&i.close(),e.next=6,f((0,d.YR)({provider:n}));case 6:if(!("error"in(s=e.sent))){e.next=14;break}if(l=s.error,a({error:l.status&&l.message?l.message:"Something went wrong"}),(0,x.j)(x.U3.AUTH_FORM_SUBMISSION_FAILED,{provider:n,authenticationType:t?"login":"signup",isTeacher:r?"true":"false",errorStatus:l.status}),401===l.status){e.next=13;break}throw l;case 13:return e.abrupt("return");case 14:h=s.user,m="authenticated:new_user"===o.data,t&&!m&&(0,x.j)(x.U3.LOGIN_SUCCESSFUL,{source:u}),a({user:h,social:!0,newUser:m});case 18:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){z(o,n,a,i,u,"next",e)}function u(e){z(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return o.apply(this,arguments)}}();window.addEventListener("message",s),p.current=function(){p.current=null,window.removeEventListener("message",s)}};return i.useEffect((function(){return function(){p.current&&p.current()}}),[]),(0,n.BX)(g.gC,{children:[l?(0,n.BX)(g.gC,{align:"center",children:[(0,n.tZ)(y.Z,{level:4,align:"center",children:"Login with Google"}),(0,n.tZ)("div",{className:"jsx-ec4a0caca93c2428",children:(0,n.tZ)(F,{provider:"google",onClick:function(e){return h(e,"google")}})})]}):(0,n.BX)(n.HY,{children:[(0,n.tZ)(w.Z,{size:2}),(0,n.tZ)("div",{className:"jsx-ec4a0caca93c2428 social-spacer"}),(0,n.tZ)(w.Z,{}),(0,n.tZ)(g.gC,{spacing:1,children:H.map((function(e){return(0,n.tZ)(F,{onClick:function(r){return h(r,e)},provider:e},e)}))})]}),(0,n.tZ)(o(),{id:"ec4a0caca93c2428",children:".social-spacer.jsx-ec4a0caca93c2428{width:100%;border-bottom:1px solid var(--outline-dimmest)}"})]})},M=function(){return(0,n.BX)("div",{className:"jsx-ebf1f482d98c40ac signup-form-email-disclaimer",children:["By continuing, you agree to Replit's"," ",(0,n.tZ)("a",{href:"/site/terms",target:"_blank",className:"jsx-ebf1f482d98c40ac",children:"Terms of Service"})," ","and"," ",(0,n.tZ)("a",{href:"/site/privacy",target:"_blank",className:"jsx-ebf1f482d98c40ac",children:"Privacy Policy"}),", and to receiving emails with updates.",(0,n.tZ)(o(),{id:"ebf1f482d98c40ac",children:".signup-form-email-disclaimer.jsx-ebf1f482d98c40ac{font-size:12px;margin-top:20px;color:var(--foreground-dimmer);line-height:14px}"})]})},L=function(e){var r=e.onSubmit,t=e.isLogin,a=e.email,i=e.isTeacher,u=e.toggleTeacher,c=e.onChangeAuth,s=e.privacyInvite,l=e.randomUsername,f=e.source,p=void 0===f?"explicit":f,d=e.googleClassroom;return(0,n.BX)("div",{className:"jsx-c4d8c9697df04b1d",children:[(0,n.tZ)(o(),{id:"c4d8c9697df04b1d",children:"div.jsx-c4d8c9697df04b1d{max-width:280px;margin-top:auto;margin-bottom:auto;color:var(--accent-foreground-default)}"}),t&&(0,n.tZ)(j,{isTeacher:i,onSubmit:r,onChangeAuth:c,source:p}),!t&&!d&&(0,n.tZ)(_,{isTeacher:i,email:a,onSubmit:r,toggleTeacher:u,onChangeAuth:c,privacyInvite:s,randomUsername:l,source:p}),!s&&(0,n.tZ)(B,{isTeacher:i,onSubmit:r,source:p,isLogin:t,googleClassroom:d}),(0,n.tZ)(M,{})]})}},39e3:function(e,r,t){var n=t(35944),a=t(79547),o=t.n(a),i=t(67294),u=t(83308),c=t(12596);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function f(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function m(e,r){return!r||"object"!==b(r)&&"function"!==typeof r?s(e):r}function v(e,r){return(v=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var b=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=d(e);if(r){var a=d(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return m(this,t)}}var y=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&v(e,r)}(d,e);var r,t,a,i=g(d);function d(){var e;return l(this,d),p(s(e=i.apply(this,arguments)),"state",{isShown:!1}),p(s(e),"toggleShowHide",(function(){e.setState({isShown:!e.state.isShown})})),e}return r=d,(t=[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,r=this.state.isShown,t=r?"HIDE":"SHOW";return(0,n.BX)("div",{className:"jsx-36c139331f6f2b3d password-input",children:[this.props.validated?(0,n.tZ)(u.a,h({ref:function(r){return e.input=r},type:r?"text":"password"},this.props,{validated:void 0})):(0,n.tZ)(c.ZP,h({ref:function(r){return e.input=r}},this.props,{type:r?"text":"password",validated:void 0})),this.props.value&&this.props.value.length>0&&(0,n.tZ)("div",{onClick:this.toggleShowHide,className:"jsx-36c139331f6f2b3d password-show-toggle",children:t}),(0,n.tZ)(o(),{id:"36c139331f6f2b3d",children:".password-input.jsx-36c139331f6f2b3d{position:relative}.password-input.jsx-36c139331f6f2b3d input{padding-right:67px!important}.password-show-toggle.jsx-36c139331f6f2b3d{position:absolute;right:19px;line-height:16px;top:12px;cursor:pointer}"})]})}}])&&f(r.prototype,t),a&&f(r,a),d}(i.Component);p(y,"defaultProps",{validated:!1,theme:"replitLight"}),r.Z=y},33108:function(e,r,t){t.d(r,{Y:function(){return u}});var n=t(67294),a=t(93723);function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){var t=function(){var e,t,n=y.current,a=r(n);return e=a,(null!=(t=Promise)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t)?a.then((function(e){y.current===n&&w(e)})):w(a),a},o=i(n.useState(!1),2),u=o[0],c=o[1],s=i(n.useState(e),2),l=s[0],f=s[1],p=i(n.useState(null),2),d=p[0],h=p[1],m=i(n.useState(!1),2),v=m[0],b=m[1],g=n.useRef(null),y=n.useRef(l),w=function(e){if(!e)return h(null),void b(!0);h(e),"warning"===e.severity&&b(!0)},x=n.useRef((0,a.Z)((function(){return t()}),200)),S=n.useCallback((function(e){x.current(),x.current.flush()}),[l]);return n.useEffect((function(){return x.current.cancel}),[]),{value:l,error:(null===d||void 0===d?void 0:d.severity)&&"error"!==d.severity?null:d,warning:"warning"===(null===d||void 0===d?void 0:d.severity)?d:null,touched:u,setValue:function(e){y.current=e,b(!1),h(null),c(!0),f(e),x.current()},handleBlur:S,validate:t,isValid:v,setError:function(e){return h({message:e})},ref:g}}},21:function(e,r,t){t.d(r,{Z:function(){return m},w:function(){return c}});var n=t(34051),a=t.n(n),o=t(34155);function i(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function u(e){i(o,n,a,u,c,"next",e)}function c(e){i(o,n,a,u,c,"throw",e)}u(void 0)}))}}var c="473079ba-e99f-4e25-a635-e9b661c7dd3e",s=0;function l(){var e=Math.floor(500*Math.random());return 1e3*Math.pow(1.7,s)+e}var f=null;function p(){return d.apply(this,arguments)}function d(){return(d=u(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",e.abrupt("return",new Promise((function(e,t){r.onload=h((function(){f=null,e()})),r.onerror=function(){s++,f=new Promise((function(e,r){setTimeout((function(){p().then(e,r)}),l())})),5===s&&t(new Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(r)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return function(){"undefined"===typeof window.hcaptcha?setTimeout((function(){h(e)}),100):e()}}function m(e,r){return v.apply(this,arguments)}function v(){return(v=u(a().mark((function e(r,t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if("true"!==o.env.IS_CYPRESS_AUTOMATED_TEST){e.next=4;break}return e.abrupt("return","bypassed");case 4:if(!f){e.next=7;break}return e.next=7,f;case 7:return n=window.hcaptcha,e.abrupt("return",new Promise((function(e,a){var o=document.createElement("div"),i=n.render(o,{sitekey:r||c,size:"invisible",callback:function(r){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),e(r)},"open-callback":function(){t&&t()},"close-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha closed"))},"chalexpired-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha challenge expired"))},"error-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha render error"))},"expired-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha render expired"))}});window.document.body.appendChild(o),n.execute(i)})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f=p()},66692:function(e,r,t){t.d(r,{N:function(){return p}});var n=t(34051),a=t.n(n),o=t(83868),i=t.n(o),u=t(93235),c=t.n(u),s=t(48010);function l(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){l(o,n,a,i,u,"next",e)}function u(e){l(o,n,a,i,u,"throw",e)}i(void 0)}))}}var p=[function(e){if(!c()(e,{min:8,max:255}))return{message:"Must be at least 8 characters long"}},function(e){if(!/[A-Z]+/.test(e))return{message:"Must contain an uppercase character"}},function(e){if(!/[a-z]+/.test(e))return{message:"Must contain a lowercase character"}},function(e){if(!/[0-9]+/.test(e))return{message:"Must contain a number"}},function(e){if(!/.*[^0-9a-zA-Z\s].*/.test(e))return{message:"Must contain a special character"}}],d=function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(i()(r)){e.next=4;break}return e.abrupt("return",{message:"Invalid email address"});case 4:return e.next=6,(0,s.uz)("/data/user/exists",{email:r});case 6:if(!e.sent.exists){e.next=9;break}return e.abrupt("return",{message:"Email already in use"});case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();r.Z={isValidEmail:function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{message:"Must include valid email address"});case 2:if(i()(r)){e.next=4;break}return e.abrupt("return",{message:"Invalid email address"});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),email:d,teacherEmail:function(){var e=f(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,d(r);case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.next=9,(0,s.uz)("/data/user/is-teacher-email",{email:r});case 9:if(e.sent.isTeacherEmail){e.next=12;break}return e.abrupt("return",{message:"Ensure you're using your institution's email",severity:"warning"});case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),username:function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(c()(r,{min:2,max:15})){e.next=4;break}return e.abrupt("return",{message:"Your username must be between 2 and 15 characters"});case 4:if(r.match(/^[0-9a-zA-Z]+$/)){e.next=6;break}return e.abrupt("return",{message:"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"});case 6:return e.next=8,(0,s.uz)("/data/user/exists",{username:r});case 8:if(!e.sent.exists){e.next=11;break}return e.abrupt("return",{message:"Username is taken"});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),teamUsername:function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(c()(r,{min:2,max:28})){e.next=4;break}return e.abrupt("return",{message:"Your username must be between 2 and 28 characters"});case 4:if(r.match(/^[0-9a-zA-Z-]+$/)){e.next=6;break}return e.abrupt("return",{message:"Username can only contain alphanumeric characters (letters A-Z, numbers 0-9) and hyphens."});case 6:if(!r.match(/^-.*|.*-$|.*--.*/)){e.next=8;break}return e.abrupt("return",{message:"A username can not start or end with hyphens, or contain two consecutive hyphens."});case 8:return e.next=10,(0,s.uz)("/data/user/exists",{username:r});case 10:if(!e.sent.exists){e.next=13;break}return e.abrupt("return",{message:"Username is taken"});case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),password:function(e){if(!e)return null;var r=!0,t=!1,n=void 0;try{for(var a,o=p[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var i=(0,a.value)(e);if(i)return i}}catch(u){t=!0,n=u}finally{try{r||null==o.return||o.return()}finally{if(t)throw n}}},school:function(e){return null}}},53189:function(e,r,t){var n=t(42474);e.exports=function(){return n.randomBytes(8).toString("base64")+Math.random()+"aA"}}}]);
//# sourceMappingURL=2911-580399270cfd1a8b.js.map